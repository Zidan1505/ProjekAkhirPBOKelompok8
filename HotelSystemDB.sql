--
-- PostgreSQL database dump
--

-- Dumped from database version 17.2
-- Dumped by pg_dump version 17.2

-- Started on 2025-07-28 11:32:57

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 224 (class 1259 OID 20065)
-- Name: app_counters; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.app_counters (
    counter_name character varying(50) NOT NULL,
    current_value integer NOT NULL
);


ALTER TABLE public.app_counters OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 19969)
-- Name: employee; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.employee (
    username character varying(20) NOT NULL,
    user_password character varying NOT NULL,
    id integer NOT NULL,
    fullname character varying(50) NOT NULL,
    email character varying(30) NOT NULL,
    contact character varying(30) NOT NULL,
    status_employee character varying(20) DEFAULT 'Logged-Out'::character varying NOT NULL,
    CONSTRAINT employee_status_employee_check CHECK (((status_employee)::text = ANY ((ARRAY['Logged-In'::character varying, 'Logged-Out'::character varying])::text[])))
);


ALTER TABLE public.employee OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 19968)
-- Name: employee_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.employee ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.employee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 20040)
-- Name: housekeeping_record; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.housekeeping_record (
    record_id integer NOT NULL,
    housekeeping_id integer,
    room_number integer,
    record_date date NOT NULL,
    notes character varying(500)
);


ALTER TABLE public.housekeeping_record OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 20039)
-- Name: housekeeping_record_record_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.housekeeping_record ALTER COLUMN record_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.housekeeping_record_record_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 20022)
-- Name: reservation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.reservation (
    reservation_id integer NOT NULL,
    receptionist_id integer,
    room_number integer,
    guest_name character varying NOT NULL,
    guest_contact character varying NOT NULL,
    reservation_date date NOT NULL,
    check_in_date date NOT NULL,
    check_out_date date NOT NULL,
    reservation_status character varying(30) DEFAULT 'CONFIRMED'::character varying NOT NULL
);


ALTER TABLE public.reservation OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 20021)
-- Name: reservation_reservation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.reservation ALTER COLUMN reservation_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.reservation_reservation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 20003)
-- Name: room; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.room (
    room_number integer NOT NULL,
    status character varying(20) DEFAULT 'not available'::character varying NOT NULL,
    price real NOT NULL,
    ac boolean DEFAULT false NOT NULL,
    single_bed boolean DEFAULT false NOT NULL,
    twin_bed boolean DEFAULT false NOT NULL,
    double_bed boolean DEFAULT false NOT NULL,
    last_change_by_admin_id integer,
    last_modified_date date,
    check_status character varying(30) DEFAULT 'Check-Out'::character varying NOT NULL,
    CONSTRAINT room_check_status_check CHECK (((check_status)::text = ANY (ARRAY[('Check-In'::character varying)::text, ('Check-Out'::character varying)::text, ('Waiting for Check-In'::character varying)::text, ('Waiting for Check-Out'::character varying)::text]))),
    CONSTRAINT room_status_check CHECK (((status)::text = ANY (ARRAY[('available'::character varying)::text, ('not available'::character varying)::text, ('maintenance'::character varying)::text])))
);


ALTER TABLE public.room OWNER TO postgres;

--
-- TOC entry 4897 (class 0 OID 20065)
-- Dependencies: 224
-- Data for Name: app_counters; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.app_counters (counter_name, current_value) FROM stdin;
unique_payment_code	15
\.


--
-- TOC entry 4891 (class 0 OID 19969)
-- Dependencies: 218
-- Data for Name: employee; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.employee (username, user_password, id, fullname, email, contact, status_employee) FROM stdin;
arifbudiman	d53d757c0f838ea49fb46e09cbcc3cb1	211	Arif Budiman	arif@gmail.com	082277889911	Logged-Out
bahlilaja	6e94b210f33c9ae07bde7b101a01b087	311	Bahlil	bahlil@gmail.com	088877114433	Logged-Out
haykalpasha	8b5938d7c009e3b542b46e19519f4ebf	111	Haykal Pasha	haykal@gmail.com	082233445566	Logged-Out
naufaldzaki	c23ff576b099ad9d63451d0df246cead	212	Naufal Dzaki	naufal@gmail.com	088877665544	Logged-Out
mulyadi	ca653b4e173c38ef7341c25fd4567f80	312	Mulyadi	mulya@gmail.com	088877114411	Logged-Out
\.


--
-- TOC entry 4896 (class 0 OID 20040)
-- Dependencies: 223
-- Data for Name: housekeeping_record; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.housekeeping_record (record_id, housekeeping_id, room_number, record_date, notes) FROM stdin;
3	311	201	2025-07-05	tv meledak
6	311	102	2025-07-05	Status diubah menjadi 'not available'. Catatan: Tidak ada.
8	311	201	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
9	311	102	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
11	311	102	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
12	311	201	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
13	311	102	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
14	311	102	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
15	311	102	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
18	311	102	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
19	311	303	2025-07-07	Status diubah menjadi 'available'. Catatan: tidak ada
1	311	\N	2025-06-29	kasur hilang
2	312	\N	2025-06-29	tv rusak
4	311	\N	2025-07-05	omkegams
5	311	\N	2025-07-05	Status diubah menjadi 'available'. Catatan: Tidak ada.
7	311	\N	2025-07-05	Status diubah menjadi 'available'. Catatan: Tidak ada.
10	311	\N	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
16	311	\N	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
17	311	\N	2025-07-06	Status diubah menjadi 'available'. Catatan: Tidak ada.
20	311	303	2025-07-08	Status diubah menjadi 'available'. Catatan: Tidak ada.
21	311	102	2025-07-08	Status diubah menjadi 'not available'. Catatan: kamar meledug
22	311	\N	2025-07-08	Status diubah menjadi 'available'. Catatan: Tidak ada.
\.


--
-- TOC entry 4894 (class 0 OID 20022)
-- Dependencies: 221
-- Data for Name: reservation; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.reservation (reservation_id, receptionist_id, room_number, guest_name, guest_contact, reservation_date, check_in_date, check_out_date, reservation_status) FROM stdin;
5	\N	201	haykal	092	2025-07-06	2025-07-07	2025-07-23	CONFIRMED
4	211	303	Mang Owok	0824	2025-06-30	2025-07-01	2025-07-03	CONFIRMED
9	211	303	Naufal	0812	2025-07-07	2025-07-31	2025-08-02	COMPLETED
1	211	\N	Rezky Amaliah	081122334455	2025-06-30	2025-07-01	2025-07-03	CONFIRMED
3	211	102	Mang Owi	45122334455	2025-07-30	2025-08-01	2025-08-03	CONFIRMED
2	211	201	Annisa Raihana	081122334477	2025-06-28	2025-06-28	2025-06-29	CONFIRMED
\.


--
-- TOC entry 4892 (class 0 OID 20003)
-- Dependencies: 219
-- Data for Name: room; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.room (room_number, status, price, ac, single_bed, twin_bed, double_bed, last_change_by_admin_id, last_modified_date, check_status) FROM stdin;
302	not available	300000	t	t	t	f	111	2025-07-07	Check-Out
303	available	275000	t	t	f	f	111	2025-07-07	Check-Out
102	not available	200000	f	t	f	f	212	2025-07-06	Check-Out
201	available	300000	t	f	f	t	111	2025-07-06	Check-Out
\.


--
-- TOC entry 4903 (class 0 OID 0)
-- Dependencies: 217
-- Name: employee_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.employee_id_seq', 1, false);


--
-- TOC entry 4904 (class 0 OID 0)
-- Dependencies: 222
-- Name: housekeeping_record_record_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.housekeeping_record_record_id_seq', 22, true);


--
-- TOC entry 4905 (class 0 OID 0)
-- Dependencies: 220
-- Name: reservation_reservation_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.reservation_reservation_id_seq', 16, true);


--
-- TOC entry 4739 (class 2606 OID 20069)
-- Name: app_counters app_counters_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.app_counters
    ADD CONSTRAINT app_counters_pkey PRIMARY KEY (counter_name);


--
-- TOC entry 4725 (class 2606 OID 20062)
-- Name: employee employee_contact_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT employee_contact_uniq UNIQUE (contact);


--
-- TOC entry 4727 (class 2606 OID 20060)
-- Name: employee employee_email_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT employee_email_uniq UNIQUE (email);


--
-- TOC entry 4729 (class 2606 OID 20058)
-- Name: employee employee_username_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT employee_username_uniq UNIQUE (username);


--
-- TOC entry 4731 (class 2606 OID 19975)
-- Name: employee id; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.employee
    ADD CONSTRAINT id PRIMARY KEY (id);


--
-- TOC entry 4737 (class 2606 OID 20046)
-- Name: housekeeping_record record_id; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.housekeeping_record
    ADD CONSTRAINT record_id PRIMARY KEY (record_id);


--
-- TOC entry 4735 (class 2606 OID 20028)
-- Name: reservation reservation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT reservation_pkey PRIMARY KEY (reservation_id);


--
-- TOC entry 4733 (class 2606 OID 20015)
-- Name: room room_number; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.room
    ADD CONSTRAINT room_number PRIMARY KEY (room_number);


--
-- TOC entry 4743 (class 2606 OID 20047)
-- Name: housekeeping_record fk_housekeeping_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.housekeeping_record
    ADD CONSTRAINT fk_housekeeping_id FOREIGN KEY (housekeeping_id) REFERENCES public.employee(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- TOC entry 4741 (class 2606 OID 20029)
-- Name: reservation fk_reservation_receptionist; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT fk_reservation_receptionist FOREIGN KEY (receptionist_id) REFERENCES public.employee(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- TOC entry 4740 (class 2606 OID 20016)
-- Name: room fk_room_last_change_by_admin; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.room
    ADD CONSTRAINT fk_room_last_change_by_admin FOREIGN KEY (last_change_by_admin_id) REFERENCES public.employee(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- TOC entry 4744 (class 2606 OID 20052)
-- Name: housekeeping_record fk_room_number; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.housekeeping_record
    ADD CONSTRAINT fk_room_number FOREIGN KEY (room_number) REFERENCES public.room(room_number) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- TOC entry 4742 (class 2606 OID 20034)
-- Name: reservation room_number; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT room_number FOREIGN KEY (room_number) REFERENCES public.room(room_number) ON UPDATE CASCADE ON DELETE SET NULL;


-- Completed on 2025-07-28 11:32:58

--
-- PostgreSQL database dump complete
--

